<div class="slide-content">
    <div class="slide-header">
        <span class="slide-chapter">02 â€¢ HyperLogLog</span>
        <h2>âš¡ HyperLogLog: Media ArmonicÄƒ</h2>
    </div>
    <div class="slide-body">
        <div class="evolution-box">
            <span class="evolution-from">LogLog</span>
            <span class="evolution-arrow">â†’</span>
            <span class="evolution-mid">SuperLogLog</span>
            <span class="evolution-arrow">â†’</span>
            <span class="evolution-to highlight">HyperLogLog</span>
        </div>
        <div class="key-innovation">
            <h4>ðŸ’¡ InovaÈ›ia cheie (Flajolet et al., 2007)</h4>
            <p>ÃŽn loc de medie aritmeticÄƒ sau truncatÄƒ, folosim <strong>media armonicÄƒ</strong> a estimÄƒrilor.</p>
        </div>
        <div class="harmonic-explanation">
            <div class="mean-compare">
                <div class="mean-type">
                    <h5>Media AritmeticÄƒ</h5>
                    <div class="mean-formula">(a + b + c) / 3</div>
                    <p class="mean-problem">SensibilÄƒ la outliers mari</p>
                </div>
                <div class="mean-type highlight">
                    <h5>Media ArmonicÄƒ</h5>
                    <div class="mean-formula">3 / (1/a + 1/b + 1/c)</div>
                    <p class="mean-benefit">Reduce impactul valorilor mari</p>
                </div>
            </div>
        </div>
        <div class="formula-box hll">
            <h4>Formula HyperLogLog:</h4>
            <div class="formula-content">
                <span class="formula-main">E = Î±<sub>m</sub> Â· mÂ² Â· (Î£ 2<sup>-R[j]</sup>)<sup>-1</sup></span>
            </div>
            <div class="formula-terms" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-xs); margin-top: var(--space-sm); font-size: 0.75rem;">
                <span><strong style="color: var(--accent-primary);">E</strong> = cardinalitate estimatÄƒ</span>
                <span><strong style="color: var(--accent-primary);">m</strong> = nr. registre (2<sup>p</sup>)</span>
                <span><strong style="color: var(--accent-primary);">Î±<sub>m</sub></strong> = constantÄƒ de corecÈ›ie bias</span>
                <span><strong style="color: var(--accent-primary);">R[j]</strong> = valoarea registrului j</span>
            </div>
        </div>
        <div class="final-improvement">
            <div class="compare-item">
                <span class="compare-name">LogLog:</span>
                <span class="compare-error">Ïƒ â‰ˆ 1.30 / âˆšm</span>
            </div>
            <div class="compare-item">
                <span class="compare-name">SuperLogLog:</span>
                <span class="compare-error">Ïƒ â‰ˆ 1.05 / âˆšm</span>
            </div>
            <div class="compare-item best">
                <span class="compare-name">HyperLogLog:</span>
                <span class="compare-error">Ïƒ â‰ˆ 1.04 / âˆšm</span>
                <span class="compare-gain">Optimal teoretic!</span>
            </div>
        </div>
    </div>
</div>

