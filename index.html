<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structuri de Date Probabilistice | SDA PolitehnicÄƒ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Playfair+Display:wght@600;700;800&family=Source+Sans+3:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <!-- Pyodide for running Python -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <!-- Slide Navigation -->
    <div class="slide-nav">
        <button class="slide-nav-btn prev" onclick="prevSlide()" title="Ãnapoi (â†)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <div class="slide-progress">
            <span class="current-slide" id="currentSlide">1</span>
            <span class="slide-separator">/</span>
            <span class="total-slides" id="totalSlides">1</span>
        </div>
        <button class="slide-nav-btn next" onclick="nextSlide()" title="Ãnainte (â†’)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>
    </div>

    <!-- Pyodide Status -->
    <div class="pyodide-status" id="pyodideStatus">
        <span class="status-dot loading"></span>
        <span class="status-text">Se Ã®ncarcÄƒ Python...</span>
    </div>

    <!-- Slides Container -->
    <div class="slides-container" id="slidesContainer">

        <!-- SLIDE 0: Cover -->
        <section class="slide cover" data-slide="0">
            <div class="cover-bg">
                <div class="grid-overlay"></div>
                <div class="floating-bits">
                    <span class="bit">0</span><span class="bit">1</span><span class="bit">1</span>
                    <span class="bit">0</span><span class="bit">1</span><span class="bit">0</span>
                    <span class="bit">1</span><span class="bit">0</span><span class="bit">1</span>
                    <span class="bit">1</span><span class="bit">0</span><span class="bit">0</span>
                </div>
            </div>
            <div class="slide-content cover-content">
                <div class="institution">
                    <span class="diamond">â—†</span>
                    <span>Universitatea Politehnica BucureÈ™ti</span>
                    <span class="diamond">â—†</span>
                </div>
                <h1 class="cover-title">
                    <span class="title-line">Structuri de Date</span>
                    <span class="title-line accent">Probabilistice</span>
                </h1>
                <p class="cover-subtitle">Curs de Structuri de Date È™i Algoritmi</p>
                <div class="cover-topics">
                    <div class="topic-pill">
                        <span class="topic-icon">â—</span>
                        <span>Bloom Filters</span>
                    </div>
                    <div class="topic-pill">
                        <span class="topic-icon">â—</span>
                        <span>HyperLogLog</span>
                    </div>
                </div>
                <div class="nav-hint">
                    <span>ApasÄƒ â†’ pentru a continua</span>
                </div>
            </div>
        </section>

        <!-- SLIDE 1: Introducere - Ce sunt? -->
        <section class="slide" data-slide="1">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">00 â€¢ Introducere</span>
                    <h2>Ce sunt Structurile de Date Probabilistice?</h2>
                </div>
                <div class="slide-body">
                    <p class="lead">
                        Structurile de date probabilistice sunt structuri care folosesc <strong>randomizarea</strong> 
                        pentru a oferi rÄƒspunsuri aproximative, dar cu garanÈ›ii matematice privind acurateÈ›ea.
                    </p>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <span class="feature-icon">âš¡</span>
                            <h4>EficienÈ›Äƒ spaÈ›ialÄƒ</h4>
                            <p>Folosesc mult mai puÈ›inÄƒ memorie decÃ¢t structurile deterministe</p>
                        </div>
                        <div class="feature-card">
                            <span class="feature-icon">ğŸš€</span>
                            <h4>VitezÄƒ</h4>
                            <p>OperaÈ›iile sunt de obicei O(1) sau O(k) unde k este mic</p>
                        </div>
                        <div class="feature-card">
                            <span class="feature-icon">ğŸ“Š</span>
                            <h4>Scalabilitate</h4>
                            <p>Perfecte pentru Big Data È™i streaming</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 2: ComparaÈ›ie -->
        <section class="slide" data-slide="2">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">00 â€¢ Introducere</span>
                    <h2>ComparaÈ›ie: Deterministic vs Probabilistic</h2>
                </div>
                <div class="slide-body centered">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>CaracteristicÄƒ</th>
                                <th>HashSet (Deterministic)</th>
                                <th>Bloom Filter (Probabilistic)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Memorie pentru 1M elemente</td>
                                <td class="bad">~40 MB</td>
                                <td class="good">~1.2 MB</td>
                            </tr>
                            <tr>
                                <td>False Positives</td>
                                <td class="good">0%</td>
                                <td class="neutral">~1% (configurabil)</td>
                            </tr>
                            <tr>
                                <td>False Negatives</td>
                                <td class="good">0%</td>
                                <td class="good">0%</td>
                            </tr>
                            <tr>
                                <td>È˜tergere element</td>
                                <td class="good">Da</td>
                                <td class="bad">Nu (standard)</td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="table-note">
                        ğŸ’¡ SacrificÄƒm precizia perfectÄƒ Ã®n schimbul unor avantaje semnificative Ã®n memorie È™i vitezÄƒ
                    </p>
                </div>
            </div>
        </section>

        <!-- SLIDE 3: Bloom Filter - Introducere -->
        <section class="slide bloom-section" data-slide="3">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>Ce este un Bloom Filter?</h2>
                </div>
                <div class="slide-body">
                    <div class="definition-box">
                        <p>
                            Un <strong>Bloom Filter</strong> este o structurÄƒ de date probabilisticÄƒ, inventatÄƒ de 
                            <em>Burton Howard Bloom Ã®n 1970</em>, care permite testarea eficientÄƒ a apartenenÈ›ei 
                            unui element la o mulÈ›ime.
                        </p>
                    </div>
                    <div class="key-concept">
                        <div class="concept-header">
                            <span class="concept-icon">ğŸ’¡</span>
                            <h4>Principiul Fundamental</h4>
                        </div>
                        <p>Un Bloom Filter poate rÄƒspunde la Ã®ntrebarea <em>"Este elementul X Ã®n mulÈ›ime?"</em> cu:</p>
                        <div class="answer-boxes">
                            <div class="answer-box positive">
                                <span class="answer-icon">âœ“</span>
                                <strong>"Probabil DA"</strong>
                                <span>elementul ar putea fi Ã®n mulÈ›ime<br>(cu o micÄƒ probabilitate de eroare)</span>
                            </div>
                            <div class="answer-box negative">
                                <span class="answer-icon">âœ—</span>
                                <strong>"Sigur NU"</strong>
                                <span>elementul nu este Ã®n mulÈ›ime<br>(100% sigur)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 4: Bloom Filter - Cum funcÈ›ioneazÄƒ -->
        <section class="slide bloom-section" data-slide="4">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>Cum funcÈ›ioneazÄƒ?</h2>
                </div>
                <div class="slide-body">
                    <div class="steps-horizontal">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h4>Structura</h4>
                            <p>Un vector de <code>m</code> biÈ›i, iniÈ›ial toÈ›i pe 0, È™i <code>k</code> funcÈ›ii hash independente</p>
                        </div>
                        <div class="step-arrow">â†’</div>
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h4>Inserare</h4>
                            <p>Se calculeazÄƒ <code>k</code> hash-uri È™i se seteazÄƒ biÈ›ii corespunzÄƒtori pe 1</p>
                        </div>
                        <div class="step-arrow">â†’</div>
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h4>CÄƒutare</h4>
                            <p>Se verificÄƒ dacÄƒ toÈ›i <code>k</code> biÈ›i sunt 1. DacÄƒ unul e 0, elementul sigur nu existÄƒ</p>
                        </div>
                    </div>
                    <div class="visual-example">
                        <div class="example-header">Exemplu vizual cu k=3 hash-uri:</div>
                        <div class="bit-array-example">
                            <span class="bit-ex">0</span>
                            <span class="bit-ex active">1</span>
                            <span class="bit-ex">0</span>
                            <span class="bit-ex active">1</span>
                            <span class="bit-ex">0</span>
                            <span class="bit-ex">0</span>
                            <span class="bit-ex active">1</span>
                            <span class="bit-ex">0</span>
                        </div>
                        <div class="hash-arrows">
                            <span style="left: 15%">hâ‚</span>
                            <span style="left: 40%">hâ‚‚</span>
                            <span style="left: 78%">hâ‚ƒ</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 5: Bloom Filter - Demo Interactiv -->
        <section class="slide bloom-section" data-slide="5">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>ğŸ® Demo Interactiv</h2>
                </div>
                <div class="slide-body">
                    <div class="interactive-demo">
                        <div class="demo-controls">
                            <input type="text" id="bloomInput" placeholder="Introdu un cuvÃ¢nt..." class="demo-input">
                            <button onclick="addToBloom()" class="demo-btn primary">AdaugÄƒ</button>
                            <button onclick="checkBloom()" class="demo-btn secondary">VerificÄƒ</button>
                            <button onclick="resetBloom()" class="demo-btn danger">Reset</button>
                        </div>
                        <div class="bloom-visualization">
                            <div class="bit-array" id="bloomBitArray"></div>
                            <div class="hash-indicators" id="hashIndicators"></div>
                        </div>
                        <div class="demo-output" id="bloomOutput">
                            <p>AdaugÄƒ cuvinte pentru a vedea cum funcÈ›ioneazÄƒ Bloom Filter-ul.</p>
                        </div>
                        <div class="added-elements">
                            <strong>Elemente adÄƒugate:</strong>
                            <span id="addedList">Niciun element Ã®ncÄƒ</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 6: Bloom Filter - Implementare Python -->
        <section class="slide bloom-section" data-slide="6">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>ğŸ“ Implementare Python</h2>
                </div>
                <div class="slide-body code-slide">
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <button class="run-btn" onclick="runPythonCode('bloomCode1')">
                                <span class="play-icon">â–¶</span> RuleazÄƒ
                            </button>
                        </div>
                        <pre class="language-python"><code class="language-python" id="bloomCode1">import hashlib

class BloomFilter:
    def __init__(self, size=100, num_hashes=3):
        self.size = size
        self.num_hashes = num_hashes
        self.bit_array = [0] * size
    
    def _hashes(self, item):
        """GenereazÄƒ k hash-uri pentru un element."""
        hashes = []
        for i in range(self.num_hashes):
            h = hashlib.sha256(f"{item}{i}".encode()).hexdigest()
            hashes.append(int(h, 16) % self.size)
        return hashes
    
    def add(self, item):
        for pos in self._hashes(item):
            self.bit_array[pos] = 1
        print(f"âœ“ AdÄƒugat '{item}' la poziÈ›iile: {self._hashes(item)}")
    
    def contains(self, item):
        positions = self._hashes(item)
        return all(self.bit_array[pos] == 1 for pos in positions)

# Demo
bf = BloomFilter(size=20, num_hashes=3)
for elem in ["pisicÄƒ", "cÃ¢ine", "papagal"]:
    bf.add(elem)

print(f"\nVector: {bf.bit_array}")
print(f"\n'pisicÄƒ' Ã®n filter? {bf.contains('pisicÄƒ')}")
print(f"'elefant' Ã®n filter? {bf.contains('elefant')}")</code></pre>
                        <div class="code-output" id="output-bloomCode1">
                            <span class="output-placeholder">ApasÄƒ "RuleazÄƒ" pentru a vedea rezultatul...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 7: Bloom Filter - MatematicÄƒ -->
        <section class="slide bloom-section" data-slide="7">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>ğŸ“ Analiza MatematicÄƒ</h2>
                </div>
                <div class="slide-body">
                    <div class="formula-grid">
                        <div class="formula-card">
                            <h4>Probabilitatea de False Positive</h4>
                            <div class="formula">
                                <div class="math-formula">
                                    P(FP) â‰ˆ (1 - e<sup>-kn/m</sup>)<sup>k</sup>
                                </div>
                            </div>
                            <p class="formula-desc">
                                <code>n</code> = elemente, <code>m</code> = biÈ›i, <code>k</code> = funcÈ›ii hash
                            </p>
                        </div>
                        <div class="formula-card">
                            <h4>NumÄƒrul Optim de FuncÈ›ii Hash</h4>
                            <div class="formula">
                                <div class="math-formula">
                                    k<sub>optim</sub> = (m/n) Ã— ln(2)
                                </div>
                            </div>
                            <p class="formula-desc">
                                â‰ˆ 0.693 Ã— (m/n)
                            </p>
                        </div>
                        <div class="formula-card">
                            <h4>Dimensiune OptimÄƒ pentru Probabilitate ÈšintÄƒ</h4>
                            <div class="formula">
                                <div class="math-formula">
                                    m = -n Ã— ln(p) / (ln(2))Â²
                                </div>
                            </div>
                            <p class="formula-desc">
                                <code>p</code> = probabilitatea de FP doritÄƒ
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 8: Bloom Filter - Calcule Python -->
        <section class="slide bloom-section" data-slide="8">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>ğŸ“Š Calcule Practice</h2>
                </div>
                <div class="slide-body code-slide">
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <button class="run-btn" onclick="runPythonCode('bloomMath')">
                                <span class="play-icon">â–¶</span> RuleazÄƒ
                            </button>
                        </div>
                        <pre class="language-python"><code class="language-python" id="bloomMath">import math

def probabilitate_fp(m, n, k):
    return (1 - math.exp(-k * n / m)) ** k

def k_optim(m, n):
    return (m / n) * math.log(2)

def m_optim(n, p):
    return -n * math.log(p) / (math.log(2) ** 2)

# Scenariul: 1 milion de elemente, 1% false positive
n = 1_000_000
p_target = 0.01

m_needed = m_optim(n, p_target)
k_needed = k_optim(m_needed, n)

print(f"Pentru {n:,} elemente cu {p_target*100}% FP:")
print(f"  Memorie necesarÄƒ: {m_needed/8/1024/1024:.2f} MB")
print(f"  FuncÈ›ii hash optime: {round(k_needed)}")

# ComparaÈ›ie cu HashSet (~40 bytes/element)
hashset_size = n * 40 / 1024 / 1024
print(f"\nComparaÈ›ie:")
print(f"  HashSet: ~{hashset_size:.0f} MB")
print(f"  Bloom:   ~{m_needed/8/1024/1024:.2f} MB")
print(f"  Economie: {(1-m_needed/8/1024/1024/hashset_size)*100:.0f}%")</code></pre>
                        <div class="code-output" id="output-bloomMath">
                            <span class="output-placeholder">ApasÄƒ "RuleazÄƒ" pentru a vedea rezultatul...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 9: Bloom Filter - AplicaÈ›ii -->
        <section class="slide bloom-section" data-slide="9">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">01 â€¢ Bloom Filters</span>
                    <h2>ğŸŒ AplicaÈ›ii Ã®n Lumea RealÄƒ</h2>
                </div>
                <div class="slide-body">
                    <div class="app-grid">
                        <div class="app-card">
                            <div class="app-icon">ğŸŒ</div>
                            <h4>Google Chrome</h4>
                            <p>VerificÄƒ URL-uri maliÈ›ioase folosind un Bloom Filter local Ã®nainte de a contacta serverele</p>
                        </div>
                        <div class="app-card">
                            <div class="app-icon">ğŸ’¾</div>
                            <h4>Baze de Date</h4>
                            <p>Cassandra, HBase folosesc Bloom Filters pentru a evita citiri inutile de pe disc</p>
                        </div>
                        <div class="app-card">
                            <div class="app-icon">ğŸ“§</div>
                            <h4>Filtre de Spam</h4>
                            <p>VerificÄƒ rapid dacÄƒ un email provine de la un expeditor cunoscut</p>
                        </div>
                        <div class="app-card">
                            <div class="app-icon">ğŸ”—</div>
                            <h4>Bitcoin</h4>
                            <p>FoloseÈ™te Bloom Filters pentru SPV (Simplified Payment Verification)</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 10: HyperLogLog - Introducere -->
        <section class="slide hll-section" data-slide="10">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>Ce este HyperLogLog?</h2>
                </div>
                <div class="slide-body">
                    <div class="definition-box orange">
                        <p>
                            <strong>HyperLogLog</strong> (HLL) este un algoritm probabilistic pentru estimarea 
                            <em>cardinalitÄƒÈ›ii</em> (numÄƒrului de elemente distincte) Ã®ntr-o mulÈ›ime.
                        </p>
                        <p class="author">Dezvoltat de Flajolet et al. Ã®n 2007</p>
                    </div>
                    <div class="key-concept highlight-orange">
                        <div class="concept-header">
                            <span class="concept-icon">ğŸ¯</span>
                            <h4>Problema pe care o rezolvÄƒ</h4>
                        </div>
                        <p>
                            CÃ¢È›i utilizatori unici viziteazÄƒ un website cu miliarde de vizite pe zi?
                        </p>
                        <div class="highlight-stat">
                            <span class="stat-big">~12KB</span>
                            <span class="stat-desc">pentru a estima miliarde de elemente unice cu ~0.8% eroare!</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 11: HyperLogLog - IntuiÈ›ia -->
        <section class="slide hll-section" data-slide="11">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>ğŸ² IntuiÈ›ia: Experimentul cu moneda</h2>
                </div>
                <div class="slide-body">
                    <div class="intuition-box">
                        <p class="lead">ImagineazÄƒ-È›i cÄƒ arunci o monedÄƒ È™i numeri cÃ¢te "cap" consecutive obÈ›ii:</p>
                        <div class="probability-list">
                            <div class="prob-item">
                                <span class="prob-count">1</span>
                                <span class="prob-bar" style="width: 50%"></span>
                                <span class="prob-text">cap consecutiv â†’ 50%</span>
                            </div>
                            <div class="prob-item">
                                <span class="prob-count">2</span>
                                <span class="prob-bar" style="width: 25%"></span>
                                <span class="prob-text">capuri consecutive â†’ 25%</span>
                            </div>
                            <div class="prob-item">
                                <span class="prob-count">5</span>
                                <span class="prob-bar" style="width: 8%"></span>
                                <span class="prob-text">capuri consecutive â†’ 3%</span>
                            </div>
                            <div class="prob-item">
                                <span class="prob-count">10</span>
                                <span class="prob-bar" style="width: 3%"></span>
                                <span class="prob-text">capuri consecutive â†’ 0.1%</span>
                            </div>
                        </div>
                        <div class="key-insight">
                            <strong>Ideea cheie:</strong> DacÄƒ am observat <code>k</code> zerouri consecutive la 
                            Ã®nceputul unui hash, probabil am vÄƒzut aproximativ <strong>2<sup>k</sup></strong> elemente distincte!
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 12: HyperLogLog - Algoritm -->
        <section class="slide hll-section" data-slide="12">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>Cum funcÈ›ioneazÄƒ algoritmul?</h2>
                </div>
                <div class="slide-body">
                    <div class="algorithm-steps">
                        <div class="algo-step">
                            <div class="algo-num">1</div>
                            <div class="algo-content">
                                <h4>Hash</h4>
                                <p>Fiecare element â†’ numÄƒr binar uniform distribuit</p>
                            </div>
                        </div>
                        <div class="algo-step">
                            <div class="algo-num">2</div>
                            <div class="algo-content">
                                <h4>ÃmpÄƒrÈ›ire Ã®n registre</h4>
                                <p>Primii <code>p</code> biÈ›i â†’ index Ã®n cele 2<sup>p</sup> registre</p>
                            </div>
                        </div>
                        <div class="algo-step">
                            <div class="algo-num">3</div>
                            <div class="algo-content">
                                <h4>NumÄƒrare zerouri</h4>
                                <p>Se numÄƒrÄƒ leading zeros Ã®n biÈ›ii rÄƒmaÈ™i</p>
                            </div>
                        </div>
                        <div class="algo-step">
                            <div class="algo-num">4</div>
                            <div class="algo-content">
                                <h4>Actualizare</h4>
                                <p>Registrul pÄƒstreazÄƒ max(curent, zerouri + 1)</p>
                            </div>
                        </div>
                        <div class="algo-step">
                            <div class="algo-num">5</div>
                            <div class="algo-content">
                                <h4>Estimare</h4>
                                <p>Media armonicÄƒ a valorilor din registre</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 13: HyperLogLog - Demo Interactiv -->
        <section class="slide hll-section" data-slide="13">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>ğŸ® Demo Interactiv</h2>
                </div>
                <div class="slide-body">
                    <div class="interactive-demo hll-demo">
                        <div class="demo-controls">
                            <button onclick="addRandomElements(10)" class="demo-btn primary">+10 Elemente</button>
                            <button onclick="addRandomElements(100)" class="demo-btn primary">+100 Elemente</button>
                            <button onclick="addRandomElements(1000)" class="demo-btn primary">+1000 Elemente</button>
                            <button onclick="resetHLL()" class="demo-btn danger">Reset</button>
                        </div>
                        <div class="hll-stats">
                            <div class="stat-box">
                                <span class="stat-label">AdÄƒugate</span>
                                <span class="stat-value" id="hllTotalAdded">0</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-label">Unice (real)</span>
                                <span class="stat-value" id="hllActualUnique">0</span>
                            </div>
                            <div class="stat-box accent">
                                <span class="stat-label">Estimare HLL</span>
                                <span class="stat-value" id="hllEstimate">0</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-label">Eroare</span>
                                <span class="stat-value" id="hllError">0%</span>
                            </div>
                        </div>
                        <div class="registers-container">
                            <h4>Registre HyperLogLog (16 registre)</h4>
                            <div class="registers-grid" id="hllRegisters"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 14: HyperLogLog - Implementare Python -->
        <section class="slide hll-section" data-slide="14">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>ğŸ“ Implementare Python</h2>
                </div>
                <div class="slide-body code-slide">
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <button class="run-btn" onclick="runPythonCode('hllCode1')">
                                <span class="play-icon">â–¶</span> RuleazÄƒ
                            </button>
                        </div>
                        <pre class="language-python"><code class="language-python" id="hllCode1">import hashlib, math

class HyperLogLog:
    def __init__(self, p=4):
        self.p = p
        self.m = 1 << p  # 2^p registre
        self.registers = [0] * self.m
        self.alpha = 0.673 if self.m == 16 else 0.7213/(1+1.079/self.m)
    
    def add(self, item):
        h = int(hashlib.md5(str(item).encode()).hexdigest()[:8], 16)
        idx = h >> (32 - self.p)
        remaining = h & ((1 << (32 - self.p)) - 1)
        zeros = 1
        for i in range(31 - self.p, -1, -1):
            if remaining & (1 << i): break
            zeros += 1
        self.registers[idx] = max(self.registers[idx], zeros)
    
    def estimate(self):
        Z = sum(2**(-r) for r in self.registers)
        E = self.alpha * self.m * self.m / Z
        V = self.registers.count(0)
        if E <= 2.5 * self.m and V > 0:
            E = self.m * math.log(self.m / V)
        return int(E)

hll = HyperLogLog(p=4)
for i in range(1000): hll.add(f"elem_{i}")
for i in range(500): hll.add(f"elem_{i}")  # duplicate

print(f"Registre: {hll.registers}")
print(f"Unice reale: 1000, Estimare: {hll.estimate()}")</code></pre>
                        <div class="code-output" id="output-hllCode1">
                            <span class="output-placeholder">ApasÄƒ "RuleazÄƒ" pentru a vedea rezultatul...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 15: HyperLogLog - MatematicÄƒ -->
        <section class="slide hll-section" data-slide="15">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>ğŸ“ Formule È™i Trade-off-uri</h2>
                </div>
                <div class="slide-body">
                    <div class="formula-grid">
                        <div class="formula-card orange">
                            <h4>Formula de Estimare</h4>
                            <div class="formula">
                                <div class="math-formula">E = Î±<sub>m</sub> Ã— mÂ² Ã— (Î£ 2<sup>-M[j]</sup>)<sup>-1</sup></div>
                            </div>
                        </div>
                        <div class="formula-card orange">
                            <h4>Eroarea Standard</h4>
                            <div class="formula">
                                <div class="math-formula">Ïƒ â‰ˆ 1.04 / âˆšm</div>
                            </div>
                            <p class="formula-desc">Cu 1024 registre â†’ ~3.25% eroare</p>
                        </div>
                        <div class="formula-card orange">
                            <h4>Memorie NecesarÄƒ</h4>
                            <div class="formula">
                                <div class="math-formula">Memorie = 2<sup>p</sup> Ã— 6 biÈ›i</div>
                            </div>
                            <p class="formula-desc">p=14 â†’ doar 12KB pentru miliarde!</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 16: HyperLogLog - Trade-off Table -->
        <section class="slide hll-section" data-slide="16">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>ğŸ“Š Precizie vs Memorie</h2>
                </div>
                <div class="slide-body code-slide">
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <button class="run-btn" onclick="runPythonCode('hllMath')">
                                <span class="play-icon">â–¶</span> RuleazÄƒ
                            </button>
                        </div>
                        <pre class="language-python"><code class="language-python" id="hllMath">import math

print("HyperLogLog: Trade-off Precizie vs Memorie")
print("-" * 50)
print(f"{'p':^4} | {'Registre':^10} | {'Memorie':^10} | {'Eroare':^10}")
print("-" * 50)

for p in [4, 8, 10, 12, 14, 16]:
    m = 2 ** p
    mem_bytes = m * 6 / 8
    error = 1.04 / math.sqrt(m) * 100
    
    if mem_bytes < 1024:
        mem_str = f"{mem_bytes:.0f} B"
    else:
        mem_str = f"{mem_bytes/1024:.1f} KB"
    
    print(f"{p:^4} | {m:^10,} | {mem_str:^10} | {error:^8.2f}%")

print("-" * 50)
print("\nPentru 1 MILIARD de elemente unice:")
print(f"  HashSet: ~7.5 GB")
print(f"  HLL p=14: ~12 KB (reducere de 600,000x!)")</code></pre>
                        <div class="code-output" id="output-hllMath">
                            <span class="output-placeholder">ApasÄƒ "RuleazÄƒ" pentru a vedea rezultatul...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 17: HyperLogLog - AplicaÈ›ii -->
        <section class="slide hll-section" data-slide="17">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">02 â€¢ HyperLogLog</span>
                    <h2>ğŸŒ AplicaÈ›ii Ã®n Lumea RealÄƒ</h2>
                </div>
                <div class="slide-body">
                    <div class="app-grid">
                        <div class="app-card orange">
                            <div class="app-icon">ğŸ“Š</div>
                            <h4>Redis</h4>
                            <p>Comanda PFCOUNT foloseÈ™te HyperLogLog pentru a numÄƒra elemente unice cu doar 12KB</p>
                        </div>
                        <div class="app-card orange">
                            <div class="app-icon">ğŸ”</div>
                            <h4>Google BigQuery</h4>
                            <p>APPROX_COUNT_DISTINCT foloseÈ™te HLL pentru interogÄƒri pe petabytes</p>
                        </div>
                        <div class="app-card orange">
                            <div class="app-icon">ğŸ“ˆ</div>
                            <h4>Analytics</h4>
                            <p>NumÄƒrarea vizitatorilor unici, IP-uri distincte Ã®n streaming</p>
                        </div>
                        <div class="app-card orange">
                            <div class="app-icon">ğŸŒ</div>
                            <h4>ReÈ›ele</h4>
                            <p>Detectarea atacurilor DDoS prin monitorizarea IP-urilor distincte</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 18: Concluzii - ComparaÈ›ie -->
        <section class="slide conclusion-section" data-slide="18">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">03 â€¢ Concluzii</span>
                    <h2>Tabel Comparativ Final</h2>
                </div>
                <div class="slide-body centered">
                    <table class="comparison-table final">
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th class="bloom-col">Bloom Filter</th>
                                <th class="hll-col">HyperLogLog</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Scop</td>
                                <td>Test de apartenenÈ›Äƒ</td>
                                <td>Estimare cardinalitate</td>
                            </tr>
                            <tr>
                                <td>OperaÈ›ie</td>
                                <td><code>contains(x)</code></td>
                                <td><code>count_distinct()</code></td>
                            </tr>
                            <tr>
                                <td>Tip eroare</td>
                                <td>False positives</td>
                                <td>Eroare Â±%</td>
                            </tr>
                            <tr>
                                <td>Memorie tipicÄƒ</td>
                                <td>~10 biÈ›i/element</td>
                                <td>~12KB total</td>
                            </tr>
                            <tr>
                                <td>Complexitate</td>
                                <td>O(k)</td>
                                <td>O(1)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- SLIDE 19: Concluzii - CÃ¢nd sÄƒ foloseÈ™ti -->
        <section class="slide conclusion-section" data-slide="19">
            <div class="slide-content">
                <div class="slide-header">
                    <span class="slide-chapter">03 â€¢ Concluzii</span>
                    <h2>CÃ¢nd sÄƒ le foloseÈ™ti?</h2>
                </div>
                <div class="slide-body">
                    <div class="conclusion-grid">
                        <div class="conclusion-card bloom">
                            <h3>Bloom Filter</h3>
                            <div class="use-section">
                                <h5>âœ“ FoloseÈ™te cÃ¢nd:</h5>
                                <ul>
                                    <li>Verifici apartenenÈ›a la o mulÈ›ime</li>
                                    <li>PoÈ›i tolera false positives</li>
                                    <li>Memoria este limitatÄƒ</li>
                                </ul>
                            </div>
                            <div class="avoid-section">
                                <h5>âœ— EvitÄƒ cÃ¢nd:</h5>
                                <ul>
                                    <li>Ai nevoie sÄƒ È™tergi elemente</li>
                                    <li>False positives sunt inacceptabile</li>
                                </ul>
                            </div>
                        </div>
                        <div class="conclusion-card hll">
                            <h3>HyperLogLog</h3>
                            <div class="use-section">
                                <h5>âœ“ FoloseÈ™te cÃ¢nd:</h5>
                                <ul>
                                    <li>Numeri elemente distincte</li>
                                    <li>Ai volume mari de date</li>
                                    <li>Tolereazi eroare 1-3%</li>
                                </ul>
                            </div>
                            <div class="avoid-section">
                                <h5>âœ— EvitÄƒ cÃ¢nd:</h5>
                                <ul>
                                    <li>Ai nevoie de numÄƒrare exactÄƒ</li>
                                    <li>Trebuie sÄƒ È™tii care sunt elementele</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SLIDE 20: Final -->
        <section class="slide final-slide" data-slide="20">
            <div class="slide-content cover-content">
                <div class="final-icon">ğŸ“</div>
                <h1>ÃntrebÄƒri?</h1>
                <p class="final-subtitle">Structuri de Date Probabilistice</p>
                <div class="final-recap">
                    <span class="recap-item bloom-tag">Bloom Filters</span>
                    <span class="recap-item hll-tag">HyperLogLog</span>
                </div>
                <div class="institution final-institution">
                    <span class="diamond">â—†</span>
                    <span>Universitatea Politehnica BucureÈ™ti</span>
                    <span class="diamond">â—†</span>
                </div>
            </div>
        </section>

    </div>

    <!-- Slide Dots -->
    <div class="slide-dots" id="slideDots"></div>

    <script src="script.js"></script>
</body>
</html>
